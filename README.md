# BST260FinalProject

In order to adequately study the Covid-19 pandemic in the United States, multiple data sets are required. This report aims to analyze Covid-19 responses on a state-by-state basis, so it is necessary to compute rates for more accurate comparisons, due to variation in state population sizes. Population data was sourced from the US Census Population Estimates from 2021, containing data for 2020 and 2021. Information about the regions and states defined by the CDC obtained from a JSON in Github. State level data on COVID-19 cases, deaths and hospitalizations were obtained from the CDC. These datasets contained data collected from 2020 to 2023.

After pulling the population data from the API census, the data were wrangled to make it tidy using the tidyverse package in R. This included renaming columns, adding state abbreviations, and parsing numeric values. Since the population data was only reported until 2021, the growth rate of the population was calculated by subtracting the population from 2020 from 2021 and dividing by the population in 2020 and imputing the data based on the growth rate times the population from the previous year (SI Equation 1). This constant growth assumption may influence the results, if incorrect.

Within the COVID-19 datasets (cases, hospitalizations, deaths), two new variables were created, MMWR week and MMWR year using the lubridate package in R. The counts of cases, hospitalization and deaths were summed on a weekly basis. All of the data frames were combined into one large dataframe. Rates per 100,000 people were calculated using the population data following SI Equation 2. Lastly, a variable called excess mortality was created by calculating expected deaths using the percent of expected deaths variable and subtracting the expected deaths from the total deaths (SI Equation 3).[8] The complete wrangling process is detailed in the wrangling.qmd file. 

The next step in the analysis was data visualization. All data were visualized using ggplot in R. The data frame was mutated to calculate the case rate, hospitalization rate and death rate per 100,000 people by dividing each variable by population and multiplying by 100,000. Visualization of these rates helped inform the decision about delineating periods in the pandemic, as well as providing insight into state performance. Excess mortality was studied in a similar fashion, and the differences between excess mortality and COVID-19 deaths helped determine whether COVID-19 was responsible for the uptick in mortality or not. More visualization was then conducted to answer the question of whether COVID-19 became more or less virulent across the different periods. To study the virulence, or the severity and harmfulness of a disease, the case rates, hospitalization rates, and death rates (calculated in the same way as mentioned above), were used to compute death per case rates, hospitalization per case rates, and death per hospitalization rates. Each of these rates were calculated by dividing the first rate by the second rate, respectively, after NA values had been removed. Once these rates were calculated, a plot of the change over time for each virulence measure was created to see the overall change in virulence. To be thorough with the investigation, the virulence rate changes over time were also visualized for each wave individually in the supplemental methods, which was done by filtering the overall dataframe for each respective wave. Furthermore, in the supplemental methods a plot was made for each virulence measure for each wave to compare the measure in each state within each wave.

## Dataset Sources: 

Population data: <https://api.census.gov/data/2021/pep/population>
Region data: <https://github.com/datasciencelabs/2024/raw/refs/heads/main/data/regions.json>
Case data: <https://data.cdc.gov/resource/pwn4-m3yp.json>
Hospital data: <https://data.cdc.gov/resource/39z2-9zu6.json>
Death data: <https://data.cdc.gov/resource/r8kw-7aab.json>